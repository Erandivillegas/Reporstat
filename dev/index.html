<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Covid</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href><img class="docs-light-only" src="assets/logo.png" alt="Covid logo"/><img class="docs-dark-only" src="assets/logo-dark.png" alt="Covid logo"/></a><div class="docs-package-name"><span class="docs-autofit">Covid</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/mucinoab/Covid/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Covid.jl"><a class="docs-heading-anchor" href="#Covid.jl">Covid.jl</a><a id="Covid.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Covid.jl" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-binding" id="Covid.CSV_to_DataFrame" href="#Covid.CSV_to_DataFrame"><code>Covid.CSV_to_DataFrame</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">CSV_to_DataFrame(path_url::String, encoding::String=&quot;UTF-8&quot;)::DataFrame</code></pre><p>Lee un archivo CSV con el <code>encoding</code> indicado y regresa un <em>DataFrame</em>.</p><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; df = DataFrameEncode(&quot;datos.csv&quot;)
julia&gt; df_latin1 = DataFrameEncode(&quot;datos.csv&quot;, &quot;LATIN1&quot;)</code></pre><p>Los <em>encodings</em> soportados dependen de la plataforma, obtén la lista de la siguiente manera.</p><pre><code class="language-julia-repl">julia&gt; using StringEncodings
julia&gt; encodings()
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Utils.jl#L30-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.Filtrar-Tuple{DataFrames.DataFrame,Vararg{Any,N} where N}" href="#Covid.Filtrar-Tuple{DataFrames.DataFrame,Vararg{Any,N} where N}"><code>Covid.Filtrar</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Filtrar(tabla::DataFrame, condiciones...)::DataFrame</code></pre><p>Filtra una <code>DataFrame</code> de acuerdo a los parametros que sean pasados, en este caso los parameteros actuan como expresiones, los nombres de las columnas deben siempre tener el prefijo <code>:</code> , y puede ser especificada por nombre o por numero de columna.</p><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; dt= DataFrame(A = [1,2,2,3],B = [&quot;A&quot;,&quot;A&quot;,&quot;B&quot;,&quot;BB&quot;])
4×2 DataFrame
 Row │ A      B      
     │ Int32  String 
─────┼───────────────
   1 │     1  A
   2 │     2  A
   3 │     2  B
   4 │     3  BB

julia&gt; Filtrar(dt, &quot;:1 == 2&quot;)
2×2 DataFrame
 Row │ A    B   
     │ Any  Any 
─────┼──────────
   1 │ 2    A
   2 │ 2    B</code></pre><p>En caso de que se trate de una string se deben siempre encerrar entre comillas simples.</p><pre><code class="language-julia-repl">julia&gt; Filtrar(dt, &quot;&#39;A&#39; == :2&quot;)
2×2 DataFrame
 Row │ A    B   
     │ Any  Any 
─────┼──────────
   1 │ 1    A
   2 │ 2    A</code></pre><p>Las condiciones se deben poner en parametros diferentes.</p><pre><code class="language-julia-repl">julia&gt; Filtrar(dt, &quot;2 == :A&quot; , &quot;&#39;A&#39;== :B&quot;)
1×2 DataFrame
 Row │ A    B   
     │ Any  Any 
─────┼──────────
   1 │ 2    A</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Filter.jl#L30-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.Select-Tuple{DataFrames.DataFrame,Array{String,1}}" href="#Covid.Select-Tuple{DataFrames.DataFrame,Array{String,1}}"><code>Covid.Select</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Select(Tabla::DataFrame,query::Vector{String})::DataFrame</code></pre><p>Selecciona una o varias columnas del <code>DataFrame</code> puede ser por nombre o por número de columna y regresa un nuevo <code>DataFrame</code> con las columnas seleccionadas.</p><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">
julia&gt; tabla = DataFrame(A = 1:3, B= 1:3)
3×2 DataFrame
 Row │ A      B
     │ Int32  Int32
─────┼──────────────
   1 │     1      1
   2 │     2      2
   3 │     3      3

julia&gt; q1 = Select(tabla,[&quot;1&quot;])
3×1 DataFrame
 Row │ A
     │ Int32
─────┼───────
   1 │     1
   2 │     2
   3 │     3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Operations.jl#L4-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.data_check" href="#Covid.data_check"><code>Covid.data_check</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">data_check(path_url::String, type::String=&quot;PATH&quot;, encoding::String=&quot;UTF-8&quot;)::DataFrame</code></pre><p>Crea un <em>DataFrame</em> dado un archivo CSV o una liga al archivo. Se pude especificar el <em>encoding</em>.</p><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; url = &quot;http://www.conapo.gob.mx/work/models/OMI/Datos_Abiertos/DA_IAIM/IAIM_Municipio_2010.csv&quot;
julia&gt; first(data_check(url, &quot;URL&quot;, &quot;LATIN1&quot;))
julia&gt; first(data_check(&quot;prueba.csv&quot;))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Utils.jl#L59-L71">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.fechahoy-Tuple{}" href="#Covid.fechahoy-Tuple{}"><code>Covid.fechahoy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">fechahoy()::String</code></pre><p>Crea un string con la fecha de hoy utilizando el formato &quot;yyyymmdd&quot;. Año con cuarto dígitos, mes y día con dos.</p><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; fechahoy()
&quot;20210112&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Utils.jl#L84-L94">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.jsonparse-Tuple{String}" href="#Covid.jsonparse-Tuple{String}"><code>Covid.jsonparse</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">jsonparse(url::String)::Dict</code></pre><p>Hace un http request al <code>url</code> especificado y convierte el json obtenido del sitio web en un diccionario. En caso de que el servidor devuelva un <em>status</em> distinto a <em>200</em>, se arroja un <code>error</code>.</p><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; datos = jsonparse(&quot;https://sitioweb.com/datos.json&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Utils.jl#L158-L168">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.poblacion_entidad" href="#Covid.poblacion_entidad"><code>Covid.poblacion_entidad</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">poblacion_entidad(cve_entidad::String, token_INEGI::String=&quot;&quot;)::poblacion</code></pre><p>Regresa un una estructura <code>poblacion</code> con los datos más recientes, por entidad federativa, proporcionados por la API de Indicadores del INEGI. Requiere el token (<code>token_INEGI</code>) de la API, puede obtenerse <a href="https://www.inegi.org.mx/app/api/indicadores/interna_v1_1/tokenVerify.aspx">aquí.</a> Se pude proporcionar el token directamente o por medio de una variable de entorno, de la siguiente manera. </p><pre><code class="language-julia-repl">julia&gt; ENV[&quot;token_INEGI&quot;] = &quot;00000000-0000-0000-0000-000000000000&quot;</code></pre><p>La estructura <em>poblacion</em>  contiene los siguientes datos.</p><ul><li>lugar</li><li>población total</li><li>población total hombres</li><li>población total mujeres</li><li>porcentaje de hombres</li><li>porcentaje de mujeres</li><li>porcentaje de población que se considera indígena</li></ul><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><h3>Área geoestadística estatal (AGEE)</h3><p>La entidad federativa se codifica de acuerdo con el orden alfabético de sus nombres <em>oficiales</em>, con una longitud de dos dígitos, a partir del 01 en adelante, según el número de entidades federativas que dispongan las leyes vigentes; en este momento son 32 entidades federativas (Aguascalientes 01, Baja California 02,... y Zacatecas 32). Las puedes consultar <a href="https://www.inegi.org.mx/app/ageeml/">aquí.</a></p></div></div><table><tr><th style="text-align: right">Clave Entidad</th><th style="text-align: right">Entidad</th></tr><tr><td style="text-align: right">01</td><td style="text-align: right">Aguascalientes</td></tr><tr><td style="text-align: right">02</td><td style="text-align: right">Baja California</td></tr><tr><td style="text-align: right">03</td><td style="text-align: right">Baja California Sur</td></tr><tr><td style="text-align: right">⋮</td><td style="text-align: right">⋮</td></tr><tr><td style="text-align: right">30</td><td style="text-align: right">Veracruz de Ignacio de la Llave</td></tr><tr><td style="text-align: right">31</td><td style="text-align: right">Yucatán</td></tr><tr><td style="text-align: right">32</td><td style="text-align: right">Zacatecas</td></tr></table><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; struct poblacion
  lugar::String
  total::Float64
  hombres::Float64
  mujeres::Float64
  porcentaje_hombres::Float64
  porcentaje_mujeres::Float64
  porcentaje_indigena::Float64
end

julia&gt; popu = poblacion_entidad(&quot;31&quot;, token)
Yucatán

Población total 2102259.00 (53.06 hab/km²)
Hombres 963333.00 (49.00%)
Mujeres 992244.00 (51.00%)
Porcentaje que se considera indígena 65.40%

julia&gt; popu.porcentaje_indigena
65.403459</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Utils.jl#L230-L288">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.poblacion_mexico" href="#Covid.poblacion_mexico"><code>Covid.poblacion_mexico</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">poblacion_mexico(token_INEGI::String=&quot;&quot;)::poblacion</code></pre><p>Regresa un una estructura <code>poblacion</code> con los datos más recientes, a nivel nacional, proporcionados por la API de Indicadores del INEGI. Requiere el token (<code>token_INEGI</code>) de la API, puede obtenerse <a href="https://www.inegi.org.mx/app/api/indicadores/interna_v1_1/tokenVerify.aspx">aquí.</a> Se pude proporcionar el token directamente o por medio de una variable de entorno llamada de la misma manera, <code>token_INEGI</code>.</p><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; ENV[&quot;token_INEGI&quot;] = &quot;00000000-0000-0000-0000-000000000000&quot;
&quot;00000000-0000-0000-0000-000000000000&quot;

julia&gt; popu = poblacion_mexico()
México

Población total 119938473.00 (60.96 hab/km²)
Hombres 54855231.00 (48.57%)
Mujeres 57481307.00 (51.43%)
Porcentaje que se considera indígena 21.50%</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Utils.jl#L203-L223">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.poblacion_municipio" href="#Covid.poblacion_municipio"><code>Covid.poblacion_municipio</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">poblacion_municipio(cve_entidad::String, cve_municipio::String, token_INEGI::String=&quot;&quot;)::poblacion</code></pre><p>Regresa un una estructura <code>poblacion</code> con los datos más recientes, por municipio, proporcionados por la API de Indicadores del INEGI. Requiere el token (<code>token_INEGI</code>) de la API, puede obtenerse <a href="https://www.inegi.org.mx/app/api/indicadores/interna_v1_1/tokenVerify.aspx">aquí.</a> Se pude proporcionar el token directamente o por medio de una variable de entorno llamada de la misma manera, <code>token_INEGI</code>.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><h3>Área geoestadística municipal (AGEM)</h3><p>La clave del municipio está formada por tres números que se asignan de manera ascendente  a  partir  del  001,  de  acuerdo  con  el  orden  alfabético  de  los  nombres  de  los  municipios,  aunque  a  los  creados  posteriormente  a  la  clavificación  inicial,  se  les  asigna  la  clave  geoestadística  conforme se vayan creando. Las puedes consultar <a href="https://www.inegi.org.mx/app/ageeml/">aquí.</a></p><table><tr><th style="text-align: right">Clave Entidad</th><th style="text-align: right">Nombre Entidad</th><th style="text-align: right">Clave Municipio</th><th style="text-align: right">Nombre Municipio</th></tr><tr><td style="text-align: right">01</td><td style="text-align: right">Aguascalientes</td><td style="text-align: right">001</td><td style="text-align: right">Aguascalientes</td></tr><tr><td style="text-align: right">01</td><td style="text-align: right">Aguascalientes</td><td style="text-align: right">002</td><td style="text-align: right">Asientos</td></tr><tr><td style="text-align: right">01</td><td style="text-align: right">Aguascalientes</td><td style="text-align: right">003</td><td style="text-align: right">Calvillo</td></tr><tr><td style="text-align: right">⋮</td><td style="text-align: right">⋮</td><td style="text-align: right">⋮</td><td style="text-align: right">⋮</td></tr><tr><td style="text-align: right">32</td><td style="text-align: right">Zacatecas</td><td style="text-align: right">056</td><td style="text-align: right">Zacatecas</td></tr><tr><td style="text-align: right">32</td><td style="text-align: right">Zacatecas</td><td style="text-align: right">057</td><td style="text-align: right">Trancoso</td></tr><tr><td style="text-align: right">32</td><td style="text-align: right">Zacatecas</td><td style="text-align: right">058</td><td style="text-align: right">Santa María de la Paz</td></tr></table></div></div><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; ENV[&quot;token_INEGI&quot;] = &quot;00000000-0000-0000-0000-000000000000&quot;
&quot;00000000-0000-0000-0000-000000000000&quot;

julia&gt; popu = poblacion_municipio(&quot;01&quot;, &quot;002&quot;)
Aguascalientes, Asientos

Población total 45492.00 (84.63 hab/km²)
Hombres 22512.00 (48.95%)
Mujeres 22980.00 (51.05%)
Porcentaje que se considera indígena 3.64%</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Utils.jl#L301-L336">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.sumacolumna-Tuple{DataFrames.DataFrame,Any}" href="#Covid.sumacolumna-Tuple{DataFrames.DataFrame,Any}"><code>Covid.sumacolumna</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">sumacolumna(tabla::DataFrame, col::Int)::Number
sumacolumna(tabla::DataFrame, col::String)::Number</code></pre><p>Suma todos los valores de una determinada columna en un DataFrame. Para hacer referencia a que columna se desea sumar se pude usar la posición de la columna o el nombre que tiene.</p><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; df = data_check(&quot;datos.csv&quot;)
4×2 DataFrame
 Row │ x      y
     │ Int64  Int64
─────┼──────────────
   1 │     0     11
   2 │     2     12
   3 │     0     13
   4 │    40     14

julia&gt; sumacolumna(df, 1)
42

julia&gt; sumacolumna(df, &quot;x&quot;)
42</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Utils.jl#L99-L124">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.sumafila-Tuple{DataFrames.DataFrame,Int64}" href="#Covid.sumafila-Tuple{DataFrames.DataFrame,Int64}"><code>Covid.sumafila</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">sumafila(tabla::DataFrame, fila::Int)::Number</code></pre><p>Suma todos los valores de una determinada fila en un DataFrame. La fila se especifica con la posición en la que se encuentra.</p><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; df = data_check(&quot;datos.csv&quot;)
4×2 DataFrame
 Row │ x      y
     │ Int64  Int64
─────┼──────────────
   1 │     0     11
   2 │     2     12
   3 │     0     13
   4 │    40     14

julia&gt; sumafila(df, 2)
14

julia&gt; sumafila(df, 4)
54</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Utils.jl#L129-L153">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Covid.unzip" href="#Covid.unzip"><code>Covid.unzip</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">unzip(path::String, dest::String=&quot;&quot;)</code></pre><p>Descomprime y guarda el archivo en el destino indicado(<code>dest</code>), si no se proporciona un destino, se guarda en el directorio actual.</p><p><strong>Ejemplo</strong></p><pre><code class="language-julia-repl">julia&gt; unzip(&quot;datos.zip&quot;)
julia&gt; unzip(&quot;datos.zip&quot;, pwd()*&quot;/datos&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/mucinoab/Covid/blob/fce2076a9e81726f7e34e02a65c35a19cbdb1126/src/Utils.jl#L10-L20">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 21 January 2021 16:35">Thursday 21 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
